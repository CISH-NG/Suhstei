<header>
  <nav id="navbar">
    <div>
      <a [routerLink]="['']" style="width: 4.5rem;">
        <img src="assets/icons/new-logo.png" alt="suhstei" class="logo">
      </a>

      <div class="vl nav-link"></div>

      <form (ngSubmit)="searchBooks(searchTerm)">
        <input type="search" [(ngModel)]="searchTerm" name="searchTerm" placeholder="&#xe900;  Search"
          aria-label="Search" style="font-family: SFProText, icomoon">
      </form>
    </div>

    <div class="nav-link">
      <a [routerLink]="['']" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}">Home</a>
      <a [routerLink]="['book']" routerLinkActive="active">Books</a>
      <a [routerLink]="['community']" routerLinkActive="active">Community</a>

      <div *ngIf="!auth.isLoggedIn()" class="auth-link">
        <a [routerLink]="['/user/sign-in']">Sign In</a>
        <a class="sign-up" [routerLink]="['/user/sign-up']">Sign Up</a>
      </div>

      <div *ngIf="auth.isLoggedIn()" class="user" (mouseover)="showMenu()" (mouseout)="hideMenu()">
        <h4> Welcome, {{firstname}}</h4>

        <div>
          <span class="image-cropper" style=" width: 36px; height: 36px; margin-inline-end: 10px;">
            <img *ngIf="!avatar" src="assets/images/avatar.jpg" alt="profile image" avatar>
            <img *ngIf="avatar" [src]="avatar" alt="profile image" avatar>
          </span>

          <div style="position: relative;">
            <i class="icon-Arrow" style="cursor: pointer; font-size: 10px;"></i>
            <div class="dropdown-content">
              <ul>
                <a [routerLink]="['/user/profile']">
                  <li>My Profile</li>
                </a>
                <a (click)="auth.logout()">
                  <li>Log out</li>
                </a>
              </ul>
            </div>
          </div>

        </div>
      </div>
      <!-- <div class="user">


    </div> -->
    </div>

    <button class="openbtn hamburger-menu" onclick="openNav()" aria-disabled="true">&#9776;</button>
    <ul *ngIf="!auth.isLoggedIn()" id="mySidepanel" class="sidepanel hamburger-menu">
      <li><a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a></li>

      <li><a [routerLink]="['']" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}" class="active"
          onclick="closeNav()">Home</a></li>

      <li><a [routerLink]="['book']" routerLinkActive="active" onclick="closeNav()">Book</a></li>
      <li><a [routerLink]="['community']" routerLinkActive="active" onclick="closeNav()">Community</a></li>

      <li><a [routerLink]="['/user/sign-in']" onclick="closeNav()">Sign In</a></li>

      <li><a [routerLink]="['/user/sign-up']" onclick="closeNav()">Sign Up</a></li>
    </ul>

    <ul *ngIf="auth.isLoggedIn()" id="mySidepanel" class="sidepanel hamburger-menu">
      <li><a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a></li>

      <li><a [routerLink]="['']" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}" class="active"
          onclick="closeNav()"><i class="icon-mdi_home"></i>Home</a></li>

      <li><a [routerLink]="['book']" routerLinkActive="active" onclick="closeNav()">
          <i class="icon-mdi_library_books"></i>Books</a></li>

      <li><a [routerLink]="['community']" routerLinkActive="active" onclick="closeNav()" style="margin-block-end: rem;">
          <i class="icon-group_24px_outlined"></i>Community</a></li>

      <li><a [routerLink]="['/user/profile']" routerLinkActive="active" onclick="closeNav()">
          <i class="icon-baseline-account_circle-24px"></i>Profile</a></li>

      <li><a [routerLink]="['/user/books']" routerLinkActive="active" onclick="closeNav()">
          <i class="icon-baseline-list_alt-24px"></i>My Books</a></li>

      <li><a [routerLink]="['/user/history']" routerLinkActive="active" onclick="closeNav()">
          <i class="icon-outline-history-24px"></i>History</a></li>

      <li><a [routerLink]="['/user/books-borrowed']" routerLinkActive="active" onclick="closeNav()">
          <i class="icon-baseline-insert_chart_outlined-24px"></i>Books Transactions</a></li>

      <li><a (click)="auth.logout()" routerLinkActive="active" onclick="closeNav()">
          <i class="icon-mdi_power_settings_new"></i>Sign Out</a></li>

    </ul>
  </nav>
</header>
